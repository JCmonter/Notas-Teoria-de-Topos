\chapter{Gavillas sobre Marcos}

Lo que se ha abordado hasta ahora es la teoría de haces y gavillas de conjuntos sobre espacios topológicos. En \cite{Merino2002}, se encargan de trasladar las nociones de morfismo étale y morfismos ultrafinitos a un contexto más general, el de los locales. En este capítulo se presentan algunas de las ideas principales de dicha referencia 
pero viéndolo desde el enfoque de marcos. Para tener más información sobre teoría de marcos, se puede consultar \cite{Johnstone82}, \cite{PicadoPultr} o \cite{Zaldivar2023}.
\section{Marcos y gavillas}

En el sentido categórico, trabajar con locales y trabajar con marcos, en esencia podría parecer lo mismo, ya que la categoría de locales es la categoría opuesta a la categoría de marcos. Sin embargo, en la práctica, trabajar con marcos suele ser más sencillo. 
Lo primero que haremos es dar las herramientas necesarias para trasladar las nociones vistas en capítulos anteriores al lenguaje de marcos.

\begin{definition}
    Un \emph{marco} es una retícula completa $(A, \leq, \bigvee, \wedge, 0, 1)$ que satisface la siguiente propiedad distributiva:
    \[
    a\wedge \bigvee x=\bigvee \{a\wedge b\mid x\in X\}
    \]
    para todo $a\in A$ y $X\subseteq A$.
\end{definition}

\begin{definition}
    Sean $A$ y $B$ dos marcos. Un \emph{morfismo de marcos} es una función monótona $f\colon A\to B$ que preserva
    la estructura de la retícula, es decir, para todo $X\subseteq A$ y $a,b\in A$ se cumple:
    \begin{itemize}
        \item $f(\bigvee X)=\bigvee \{f(x)\mid x\in X\}$.
        \item $f(a\wedge b)=f(a)\wedge f(b)$.
        \item $f(0)=0$ y $f(1)=1$.
    \end{itemize}
\end{definition}

De esta manera, la categoría de marcos $\Frm$ es la categoría cuyos objetos son marcos y cuyos morfismos son morfismos de marcos, y como mencionamos antes, la categoría de locales $\Loc$ es la categoría opuesta a $\Frm$.\\

Si $f:A\to B$ es un morfismo de marcos, entonces $f$ tiene un adjunto derecho $f_*:B\to A$ y cumple la siguiente propiedad:
\[
f(a)\leq b \iff a\leq f_*(b)
\]
para todo $a\in A$ y $b\in B$. De manera general, podemos calcular el adjunto derecho de un morfismo de marcos $f:A\to B$ como:
\[
f_*(b)=\bigvee \{a\in A\mid f(a)\leq b\}
\]

\begin{definition}
Sea $A\in \Frm$. La operación \emph{implicación} (o también conocida como implicación de Heyting), denotada por $(a\succ b)$ para $a, b\in A$, se define por:
\[
a\wedge c \leq b \iff c \leq (a\succ b).
\]
\end{definition}

Consideremos los morfismos de copos $f\colon A\to A$ y $f_*\colon A\to A$, dados por
\[
f(x)=a\wedge x \quad \text{y} \quad f_*(x)=(a\succ x),
\]
entonces $f(x)\leq y$ si y solo si $x\leq f_*(y)$, es decir, $x\wedge a\leq y$ si y solo si $x\leq (a\succ y)$. En otras palabras,
implicar es adjunto derecho de calcular ínfimo. Por lo tanto, la implicación se puede calcular como
\[
(a\succ b)=\bigvee \{x\in A\mid a\wedge x \leq b\}.
\]

El siguiente resultado proporciona algunas propiedades básicas de la implicación.

\begin{prop}\label{prop basicas implicacion}
    Consideremos $A$ un marco y $a,b,c\in A$. Entonces 
    \begin{enumerate}
        \item $(1\succ a)=a$.
        \item $a\leq b$ si y solo si $(a\succ b)=1$.
        \item $a\leq (b\succ a)$.
        \item $(a\succ b)=(a\succ (a\wedge b))$.
        \item $a\wedge(a\succ b)=a\wedge b$.
        \item $(a\vee b)\succ c=(a\succ c)\wedge (b\succ c)$.
        \item $(a\wedge b)\succ c=(a\succ (b\succ c))=(b\succ (a\succ c))$.
        \item $a=(a\vee b)\wedge (b\succ a)$.
        \item $a\leq ((a\succ b)\succ b)$.
        \item $(((a\succ b)\succ b)\succ b)=(a\succ b)$.
        \item Si $c\leq b$, entonces $(b\succ a)\leq (c\succ a)$.
        \item $\neg a=(a\succ 0)$.
    \end{enumerate}
\end{prop}

\begin{proof}
(Podrían dejarse la prueba de las propiedades como ejercicio.)
\end{proof}

\subsection{Núcleos y cocientes en marcos}
Cuando trabajamos en $\Top$, la noción de subespacio puede ser capturada mediante la noción de sublocal. A su vez, los sublocales pueden ser estudiados de manera 
algebraica mediante lo que en marcos se conoce como \emph{núcleos}. Esta subsección explicara brevemente la relación entre núcleos y sublocales.

\begin{definition}\label{Nucleo}
Sean $A\in \Frm$ y $j\colon A\to A$ una función. Decimos que $j$ es un \emph{núcleo} si cumple las siguientes propiedades para todo $a,b\in A$:
\begin{enumerate}
        \item Si $a\leq b$, entonces $j(a)\leq j(b)$ (monotonía).
    \item $a\leq j(a)$ (inflación).
    \item $j(j(a))=j(a)$ (idempotencia).
    \item $j(a\wedge b)=j(a)\wedge j(b)$ (preservación de ínfimos finitos).
\end{enumerate}
\end{definition}

Cuando consideramos a $A$ como nuestro marco base, denotamos por $NA$ al conjunto de todos los núcleos sobre $A$.

\begin{prop}\label{Nucleos distinguidos}
Sean $A$ un marco y $a, x\in A$. Las funciones 
\[
u_a(x)=a\vee x,\quad v_a(x)=(a\succ x),\quad w_a(x)=((x\succ a)\succ a)
\]
son núcleos en $A$. 
\end{prop}

\begin{proof}

\end{proof}

En la practica, a los núcleos de la forma $v_a$ se les conoce como \emph{núcleos abiertos}, mientras que a los núcleos de la forma $u_a$ se les conoce como \emph{núcleos cerrados}.

\begin{prop}
Si $A$ es un marco y $j\in NA$, entonces el conjunto
\[
A_j=\{x\in A\mid j(x)=x\}
\]
es un marco y el morfismo $j^*\colon A\to A_j$, dado por $j^*(x)=j(x)$, es un morfismo de marcos.
\end{prop}

Al trabajar en cualquier estructura algebraica, la manera más natural de construir un cociente es a través de ciertas relaciones de equivalencia.
Con ellas definimos lo que se conoce como congruencias y por medio de ellas damos el paso hacía los cocientes. En el caso de los marcos, el proceso anterior se puede realizar de manera más sencilla y directa ya que los núcleos pueden sustituir a las congruencias al momento de construir cocientes. 
Los detalles de esto se pueden consultar en \cite{Zaldivar2023}.

\begin{definition}\label{Cociente}
Sea $A$ un marco y $f\colon A\to B$ un morfismo de marcos. Decimos que $B$ es un \emph{cociente} de $A$ si $f$ es suprayectivo.
\end{definition}

\begin{lema}\label{Lema de cocientes isomorfos}
    Sean $A\xrightarrow{f}B,A\xrightarrow{g}C\in\Frm$ dos cocientes de $A$ tales que $f_*f^*=g_*g^*$, entonces $B\cong C$.
\end{lema}

\begin{proof}
    Sea el núcleo $k=f_*f^*=g_*g^*\in NA$. Veamos que el marco de puntos fijos $A_k$ es isomorfo a $B$. Para ver esto definamos $f^\sharp:A_k\to B$ como $f^\sharp(x):=f(k(x))$ para todo $x\in A_k$. Los detalles de la prueba de ser un morfismo de marcos se pueden revisar en \cite{Zaldivar2023}, aquí solo veamos que es biyectivo.

    Para esto sean $x,y\in A_k$ tales que $f^\sharp(x)=f^\sharp(y)$, de lo que tenemos
    $$f(k(x))=f(k(y)) \implies f(x)=f(y) \implies f_*f*(x)=f_*f*(y) \implies x=k(x)=k(y)=y$$
    Lo que prueba que es inyectiva.

    Ahora sea $b\in B$, por ser cociente, $f$ es suprayectivo y existe $a\in A$ tal que $f(a)=b$. Entonces $k(a)\in A_k$ y es tal que
    $$f^\sharp(k(a))=f(kk(a))=f(k(a))=f^*f_*f^*(a)=f^*(a)=b$$
    Lo que prueba que $f^\sharp$ es un isomorfismo de marcos. 
    
    Análogamente tenemos que $A_k\xrightarrow{g^\sharp}C$ es un isomorfismo y por lo tanto $B\cong C$.
\end{proof}

La construcción de $f^\sharp$ en la demostración anterior, es muy importante y de hecho, como se puede ver en \cite{Zaldivar2023}, es el único tal que el triángulo
 \[\begin{tikzcd}
	A & B \\
	{A_k}
	\arrow["f", from=1-1, to=1-2]
	\arrow["{k^*}"', from=1-1, to=2-1]
	\arrow["{f^\sharp}"', from=2-1, to=1-2]
\end{tikzcd}\]
conmuta. Donde $k=f_*f^*$ es el núcleo de $f$.
\begin{obs}
\begin{enumerate}
    \item Si $j$ es un núcleo en el marco $A$, entonces $A_j$ es un cociente de $A$. Denominamos a $A_j$ como el \emph{marco cociente}.
    \item Si consideramos los núcleos $u_a$ y $v_a$ a sus respectivos marcos $A_{u_a}$ y $A_{v_a}$ los denominamos \emph{cociente cerrado} y \emph{cociente abierto}, respectivamente.
\end{enumerate}
\end{obs}

\begin{prop}\label{adjunto derecho de nucleo}
    Sea $A$ un marco y $j\in NA$, entonces la inclusión de $A_j$ en $A$ es el adjunto derecho de $j^*:A\to A_j$
\end{prop}
\begin{proof}
    Consideremos $x\in A$ y $y\in A_j$, entonces
    $$x\leq y \iff x\leq j^*(x)\leq j^*(y)=y$$.
\end{proof}

\begin{lema}\label{lema del paso al cociente}
    Sea un morfismo de marcos $A\xrightarrow{f}B$ y los núcleos $j\in NA$, $k\in NB$. Para cualquier morfismo de marcos $A_j\xrightarrow{g}B_k$ es equivalente lo siguiente:
    \begin{itemize}
        \item El cuadrado \begin{tikzcd}
            A & B \\
            {A_j} & {B_k}
            \arrow["f", from=1-1, to=1-2]
            \arrow["{j^*}"', from=1-1, to=2-1]
            \arrow["{k^*}", from=1-2, to=2-2]
            \arrow["g"', from=2-1, to=2-2]
        \end{tikzcd} conmuta.
        \item $g(x)=k(f(x))$ para $x\in A_j$ y $g_*(y)=f_*(y)$ para $y\in B_k$.

    \end{itemize}
\end{lema}

\begin{proof}
    Supongamos que el cuadrado conmuta, entonces para $x\in A_j\subseteq A$ tenemos
    $$ k(f(x))=g(j^*(x))=g(x)$$
    Por otro lado, al conmutar el cuadrado, conmuta el cuadrado de los adjuntos derechos \begin{tikzcd}
        A & B \\
        {A_j} & {B_k}
        \arrow["{f_*}"', from=1-2, to=1-1]
        \arrow[hook', from=2-1, to=1-1]
        \arrow[hook', from=2-2, to=1-2]
        \arrow["{g_*}", from=2-2, to=2-1]
    \end{tikzcd}, lo que significa que $g_*(y)=f_*(y)$ para $y\in B_k$.

    Para el recíproco solo hay que notar de saber que $g_*(y)=f_*(y)$ para $y\in B_k$, sabemos que conmuta el cuadrado
    \begin{tikzcd} A & B \\
        {A_j} & {B_k}
        \arrow["{f_*}"', from=1-2, to=1-1]
        \arrow[hook', from=2-1, to=1-1]
        \arrow[hook', from=2-2, to=1-2]
        \arrow["{g_*}", from=2-2, to=2-1]
    \end{tikzcd}, y pues al ser todos adjuntos derechos, entonces conmuta el cuadrado de adjuntos izquierdos \begin{tikzcd}
            A & B \\
            {A_j} & {B_k}
            \arrow["f", from=1-1, to=1-2]
            \arrow["{j^*}"', from=1-1, to=2-1]
            \arrow["{k^*}", from=1-2, to=2-2]
            \arrow["g"', from=2-1, to=2-2]
        \end{tikzcd}.
\end{proof}

\begin{obs}\label{iso seccion inferior cociente abierto}
    Sea un marco $A$ y $a\in A$, entonces el marco cociente del núcleo $v_a$ le llamamos núcleo abierto, y notemos que $A_{v_a}\cong \downarrow a$.
    Este isomorfismo está dado por los morfismos $a\wedge-:A_{v_a}\to \downarrow a$ y $a\succ -:\downarrow a\to A_{v_a}$. Ya que de las propiedades de
    la implicación (proposición \ref{prop basicas implicacion}) no es muy complicado ver que para $x\in A_{v_a}$ tenemos
    $$a\succ(a\wedge x)=(a\succ a)\wedge(a\succ x)=1\wedge x =x$$
    Y para $y\in \downarrow a$ tenemos
    $$ a\wedge(a\succ y)= a\wedge y= y.$$  
\end{obs}

\subsection{Morfismos abiertos}

\begin{definition}[Morfismo abierto]
    Sea $f:A\to B$ un morfismo de marcos. Decimos que es abierto si existe $f_l:B\to A$, un morfismo de copos tal que:
    \begin{itemize}
        \item $f_l\dashv f$.
        \item Para cada $a\in A$ y $b\in B$ se tiene la identidad de Frobenius 
            $$f_l(b\wedge f(a))=f_l(b)\wedge a.$$
    \end{itemize}
\end{definition}

\begin{obs}\label{obs desigualdad Frobenius}
    En general, para cualquier par de morfismos adjuntos $f_l\dashv f$, se cumple una desigualdad de la identidad de Frobenius.
    Sabemos que, por un lado, $b\wedge f(a)\leq b$ y entonces $f_l(b\wedge f(a))\leq f_l(b)$; y por otro lado,
    como $b\wedge f(a)\leq f(a)$, tenemos que $f_l(b\wedge f(a))\leq f_l(f(a))\leq a$; por lo tanto $f_l(b\wedge f(a))\leq f_l(b)\wedge a.$
\end{obs}

\begin{ejp}
    Considere una función $f:S\to T$ continua y abierta, entonces tenemos que el morfismo de marcos $f^{-1}:\mathcal{O}T\to\mathcal{O}S$, dado por la preimagen, es un morfismo abierto.
    Pues ya al ser la función abierta, tenemos que el morfismo de copos $f:\mathcal{O}S\to\mathcal{O}T$, dado por la imagen directa, es adjunto izquierdo de $f^{-1}$, ya que
    $$f(U)\subseteq V \iff U\subseteq f^{-1}(V)$$
    para todo $U\in\mathcal{O}S$ y $V\in\mathcal{O}T$. Además satisface la identidad de Frobenius
    $$f(U\cap f^{-1}(V))=f(U)\cap V$$
\end{ejp}

\begin{ejp}
    Consideremos un marco $A$ y un elemento $a\in A$, entonces el morfismo de marcos $a\wedge -:A\to \downarrow a$ es un morfismo abierto. Veamos que la inclusión
    de la sección inferior en el marco, es su adjunto izquierdo: Ya que para $x\in A$ y $y\in\downarrow a$ siempre se tiene que 
    $$y\leq a\wedge x \iff y\leq x $$
    Y satisface Frobenius, pues
    $$y\wedge(a\wedge x)=(y\wedge a)\wedge x=y\wedge x$$
\end{ejp}

\begin{lema}\label{nucleo abierto iff paso al cociente abierto}
    Sea $A$ un marco y $j:A\to A$ un núcleo del marco. Entonces $j$ es un núcleo abierto si y solo si el morfismo de marcos $j^*:A\to A_j$ es un morfismo abierto.
\end{lema}

\begin{proof}
    Si $j$ es abierto, entonces existe un elemento $a\in A$ tal que $j=v_a$, veamos entonces que $v_a^*:A\to A_{v_a}$ es un morfismo abierto. Es claro que su adjunto izquierdo
    es $a\wedge -:A_{v_a}\to A$, por la misma definición de la implicación. Y por otro lado, veamos que satisface Frobenius, pues para $x\in A$ y $y\in A_{v_a}$ tenemos
    $$a\wedge(y\wedge v_a(x))=(a\wedge(a\succ x))\wedge y=(a\wedge x)\wedge y = x\wedge(a\wedge y).$$
    Por lo tanto $v_a^*$ es un morfismo abierto.

    Por otro lado supongamos que $j^*$ es un morfismo abierto, por lo tanto existe $j_l:A_j\to A$ tal que $j_l\dashv j^*$ y $j_l(y\wedge j^*(x))=j_l(y)\wedge x$ para 
    todo $x\in A$ y $y\in A_j$. Definamos $a:=f_l(1)$ y notemos que dado $x\in A_j$ tenemos que 
    $$j_l(x)=j_l(j^*(x))=j_l(j^*(x)\wedge 1)=x\wedge j_l(1)$$
    por lo tanto $j_l=a\wedge -$ y como los adjuntos son únicos, al ser la implicación su adjunto derecho, tenemos que $j^*=a\succ - = v_a^*$, lo que significa que $j$
    es un núcleo abierto.
\end{proof}

\begin{prop}\label{nucleo de morfismo abierto, es abierto}
    Sea $f:A\to B$ un morfismo de marcos abierto. Entonces el núcleo $k=f_*f$ es un núcleo abierto.
\end{prop}

\begin{proof}
    Usaremos el lema anterior (\ref{nucleo abierto iff paso al cociente abierto}), y veamos que $k^*:A\to A_k$ es un morfismo abierto. Para esto, consideremos que $f$
    es un morfismo abierto y por lo tanto existe $f_l\dashv f$ que satisface Frobenius. Ahora definamos el morfismo $k_l: A_k\to A$ como $k_l(y):=f_l(f(y))$ y veamos que son adjuntos.

    Sean $x\in A$ y $y\in A_k$, entonces
    $$ y\leq k^*(x)=f_*(f(x)) \iff f(y)\leq f(x) \iff k_l(y)=f_l(f(y))\leq x$$
    ya que $f_l\dashv f\dashv f_*$. Luego veamos que $k_l$ satisface Frobenius, pues
    $$k_l(k^*(x)\wedge y)=f_l(f(k^*(x)\wedge y))=f_l(ff_*f(x)\wedge f(y))=f_l(f(x)\wedge f(y))=x\wedge f_l(f(y))=x\wedge k_l(y)$$
    considerando propiedades de morfismos adjuntos y que $f_l$ ya satisface Frobenius.
\end{proof}

\begin{theo}\label{Teo Joyal-Tierney}
    Sea $f:A\to B$ un morfismo de marcos, entonces $f$ es un morfismo abierto
    si y solo si $f$ preserva ínfimos arbitrarios y $f(x\succ y)=f(x)\succ f(y)$
    para todo $x,y\in A$
\end{theo}
\begin{proof}
    Supongamos que $f$ es un morfismo abierto, entonces existe $f_l:B\to A$ tal que $f_l\dashv f$ y satisface Frobenius.

    Como $f$ tiene adjunto adjunto izquierdo, entonces preserva ínfimos arbitrarios. Para probar que abre implicaciones
    consideremos $x,y\in A$ y notemos que 
    $$(x\succ y)\wedge x\leq y \implies f((x\succ y)\wedge x)\leq f(y) \implies f(x\succ y)\wedge f(x)\leq f(y)$$
    y por un lado, por ser la implicación adjunto derecho de sacar ínfimo, tenemos $f(x\succ y)\leq f(x)\succ f(y)$. Por otro lado
    podemos aplicar el adjunto izquierdo
    $$f(x\succ y)\wedge f(x)\leq f(y) \implies f_l(f(x\succ y)\wedge f(x))\leq f_l(f(y))\leq y$$
    recordando que aplicar el adjunto derecho seguido del adjunto izquierdo desinfla. Y como $f_l$ satisface Frobenius tenemos
    $$f_l(f(x\succ y))\wedge x\leq y \implies f_l(f(x\succ y))\leq x\succ y$$
    lo que por fórmula de adjunción nos da que es equivalente a $f(x\succ y)\leq f(x\succ y)$; probando que $f$ abre implicaciones.

    Ahora supongamos que $f$ preserva ínfimos arbitrarios y preserva implicaciones. Como preserva ínfimos entonces tiene adjunto izquierdo
    $f_l$. Para ver que satisface Frobenius necesitamos probar que $f_*(b\succ f(a))=f_l(b)\succ a$ para cada $a\in A$ y $b\in B$.
    Sabemos que $b\leq f(f_l(b))$, luego como dejar fija la segunda entrada en una implicación es un morfismo antítono, tenemos
    $f(f_l(b))\succ f(a)\leq b\succ f(a)$, y considerando que $f$ abre implicaciones y la fórmula de adjunción para $f\dashv f_*$ entonces
    $$f(f_l(b)\succ a)\leq b\succ f(a) \implies f_l(b)\succ a\leq f_*(b\succ f(a))$$
    Por otro lado veamos que 
    $$b\succ f(a)\leq b\succ f(a) \implies (b\succ f(a))\wedge b\leq f(a) \implies b\leq (b\succ f(a))\succ f(a)$$
    entonces, considerando que $f$ abre supremos, propiedades de adjunción y en que condiciones la implicación es antítona, tenemos
    $$b\leq (b\succ f(a))\succ f(a)\leq  ff_*(b\succ f(a))\succ f(a)=f(f_*(b\succ f(a))\succ a)$$
    por último, aplicando la fórmula de adjunción y propiedades de la implicación
    $$f_l(b)\leq f_*(b\succ f(a))\succ a \implies f_l(a)\wedge f_*(b\succ f(a))\leq a \implies f_*(b\succ f(a))\leq f_l(b)\succ a$$
    lo que nos da la igualdad que deseábamos.

    Para la identidad de Frobenius, recordemos que es suficiente probar la desigualdad $f_l(b)\wedge a\leq f_l(b\wedge f(a))$ (Observación \ref{obs desigualdad Frobenius} ),
    o equivalentemente, $a\leq f_l(b)\succ f_l(b\wedge f(a))$, por lo que probaremos lo segundo:
    \begin{eqnarray*}
        f_l(b)\succ f_l(b\wedge f(a)) &=& f_*(b\succ ff_l(b\wedge f(a))) \\
                                    &\geq& f_*(b\succ(b\wedge f(a)))=f_*((b\succ b)\wedge(b\wedge f(a)))\\
                                    &=& f_*(b\succ f(a))=f_l(b)\succ a\geq a
    \end{eqnarray*}
\end{proof}

\begin{lema}
    La composición de morfismos de marcos abiertos es un morfismo abierto.
\end{lema}

\begin{proof}
    Sean $A\xrightarrow{f}B\xrightarrow{g}C\in\Frm$ dos morfismos abiertos. Del teorema anterior (\ref{Teo Joyal-Tierney}) ambos morfismos preservan implicaciones e ínfimos arbitrarios.
    Es claro que entonces la composición $g\circ f$ también preserva implicaciones e ínfimos arbitrarios, por lo tanto es un morfismo abierto.
\end{proof}

\begin{lema}
    Sea una familia $\{f_i:A\to A_i\}_{i\in I}\subseteq\Frm$ de morfismos abiertos. Entonces el morfismo $f:A\to\prod_{i\in I} A_i$, inducido por la propiedad universal
    del producto, es un morfismo abierto.
\end{lema}

\begin{proof}
    Definamos $f_l:\prod_{i\in I} A_i\to A$ como $f_l((a_i)_{i\in I})=\bigvee_{i\in I}f_{il}(a_i)$ para cada $(a_i)_{i\in I}\in\prod_{i\in I} A_i$, donde $f_{il}\dashv f_i$ y satisface Frobenius para cada $i\in I$ (ya que cada $f_i$ es abierto).
    Veamos que es el adjunto izquierdo, sean $(a_i)_{i\in I}\in\prod_{i\in I} A_i$ y $a\in A$, entonces
    \begin{eqnarray*}
        f_l((a_i)_{i\in I})\leq a &\iff& \bigvee_{i\in I}f_{il}(a_i)\leq a \\
                                    &\iff& f_{il}(a_i)\leq a \ \ \forall i\in I \\
                                    &\iff& a_i\leq f_i(a) \ \ \forall i\in I \\
                                    &\iff& (a_i)_{i\in I}\leq (f_i(a))_{i\in I}=f(a) 
    \end{eqnarray*}
    lo que prueba que $f_l\dashv f$. Y para la identidad de Frobenius, notemos que
    \begin{eqnarray*}
        f_l((a_i)_{i\in I}\wedge f(a)) &=& f_l((a_i)_{i\in I}\wedge(f_i(a))_{i\in I})=f_l((a_i\wedge f_i(a))_{i\in I}) \\ 
                                        &=& \bigvee_{i\in I}f_{il}(a_i\wedge f_i(a))=\bigvee_{i\in I}(f_{il}(a_i)\wedge a) \\ 
                                        &=& \bigvee_{i\in I}f_{il}(a_i)\wedge a = f_l((a_i)_{i\in I})\wedge a
    \end{eqnarray*}
\end{proof}

\subsection{Morfismos étales}

\begin{lema}\label{lema del paso a la seccion inferior}
    Sea $f:A\to B$ un morfismo de marcos, $a\in A$, $b\in B$ y $g:\downarrow a\to \downarrow b$ otro morfismo de marcos tal que 
    el cuadrado \begin{tikzcd}
        A & B \\
        {\downarrow a} & {\downarrow b}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{a\wedge-}"', from=1-1, to=2-1]
        \arrow["{b\wedge-}", from=1-2, to=2-2]
        \arrow["g"', from=2-1, to=2-2]
    \end{tikzcd} conmuta, entonces $g(x)=b\wedge f(x)$ para todo $x\leq a$ y $g_*(y)=f_*(b\succ y)\wedge a$ para todo $y\leq b$.
\end{lema}
\begin{proof}
    Sea $x\leq a$, entonces:
    $$g(x)=g(a\wedge x)=b\wedge f(x)$$
    ya que el diagrama conmuta. Por otro lado sea $y\leq b$, entonces:
    $$f_*(b\succ y)=f_*\circ (b\wedge-)_*(y)=(a\wedge-)_*\circ g_*(y)=a\succ g_*(y)$$
    ya que si el cuadrado conmuta, entonces conmuta el cuadrado de los respectivos adjuntos derechos.
    
    De lo anterior, por un lado tenemos que $f_*(b\succ y)\wedge a\leq g_*(y)$. Por otro lado, notemos que $g_*(y)\leq a$,
    y por lo obtenido previamente, tenemos que $b\wedge f(g_*(y))=g(g_*(y))\leq y$ (Esta última desigualdad porque $g\dashv g_*$).
    Luego eso es equivalente a que $f(g_*(y))\leq b\succ y$ (Por ser la implicación el adjunto derecho de sacar ínfimo), y por último
    $g_*(y)\leq f_*(b\succ y)$ (ya que $f\dashv f_*)$. Y por lo tanto $g_*(y)=f_*(b\succ y)\wedge a$.
\end{proof}

\begin{lema}\label{lema del paso al cociente abierto}
    Sea $f:A\to B$ un morfismo de marcos, $a\in A$, $b\in B$ y $g:A_{v_a}\to B_{v_b}$ otro morfismo de marcos tal que 
    el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_a}} & {B_{v_b}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_a}"', from=1-1, to=2-1]
        \arrow["{v_b}", from=1-2, to=2-2]
        \arrow["g"', from=2-1, to=2-2]
    \end{tikzcd} conmuta, entonces $g(x)=b\succ f(x)$ para todo $x\in A_{v_a}$ y $g_*(y)=f_*(y)$ para todo $y\in B_{v_b}$.
\end{lema}

\begin{proof}
    Es un caso particular del lema \ref{lema del paso al cociente}, con los núcleos abiertos $v_a$ y $v_b$
\end{proof}

Sabemos de la observación \ref{iso seccion inferior cociente abierto} que hay un isomorfismo entre los cocientes abiertos y las secciones inferiores, veamos
que en cierto sentido son equivalentes los dos lemas anteriores.

\begin{prop}
    Sean $A\xrightarrow{f}B$ un morfismo de marcos, $a\in A$ y $b\in B$, entonces lo siguiente es equivalente:
    \begin{itemize}
        \item Existe un morfismo de marcos $g:A_{v_a}\to B_{v_b}$ que hace conmutar el cuadrado 
        \\ \begin{tikzcd}
                A & B \\
                {A_{v_a}} & {B_{v_b}}
                \arrow["f", from=1-1, to=1-2]
                \arrow["{v_a}"', from=1-1, to=2-1]
                \arrow["{v_b}", from=1-2, to=2-2]
                \arrow["g"', from=2-1, to=2-2]
            \end{tikzcd}
        \item Existe un morfismo de marcos $\widehat{g}:\downarrow a\to \downarrow b$ que hace conmutar el cuadrado 
        \\ \begin{tikzcd}
                A & B \\
                {\downarrow a} & {\downarrow b}
                \arrow["f", from=1-1, to=1-2]
                \arrow["{a\wedge-}"', from=1-1, to=2-1]
                \arrow["{b\wedge-}", from=1-2, to=2-2]
                \arrow["\widehat{g}"', from=2-1, to=2-2]
            \end{tikzcd}
    \end{itemize}
\end{prop}

\begin{proof}
    Supongamos que conmuta el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_a}} & {B_{v_b}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_a}"', from=1-1, to=2-1]
        \arrow["{v_b}", from=1-2, to=2-2]
        \arrow["g"', from=2-1, to=2-2]
    \end{tikzcd}, entonces, del lema \ref{lema del paso al cociente abierto}, tenemos que 
    $g(x)=b\succ f(x)$ para todo $x\in A_{v_a}$ y $g_*(y)=f_*(y)$ para todo $y\in B_{v_b}$. Usaremos el isomorfismo
    entre las secciones inferiores y los cocientes abiertos, entonces definimos $\widehat{g}:\downarrow a\to\downarrow b$
    como $\widehat{g}(w):=b\wedge g(a\succ w)$ para todo $w\in\downarrow a$. Tomemos $z\in A$, entonces 
    $$ \widehat{g}(a\wedge z)=b\wedge g(a\succ (a\wedge z))=b\wedge g(a\succ z)=b\wedge (b\succ f(z))=b\wedge f(z) $$
    lo que muestra que conmuta el cuadrado \begin{tikzcd}
        A & B \\
        {\downarrow a} & {\downarrow b}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{a\wedge-}"', from=1-1, to=2-1]
        \arrow["{b\wedge-}", from=1-2, to=2-2]
        \arrow["\widehat{g}"', from=2-1, to=2-2]
    \end{tikzcd}

    Ahora supongamos que conmuta el cuadrado \begin{tikzcd}
        A & B \\
        {\downarrow a} & {\downarrow b}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{a\wedge-}"', from=1-1, to=2-1]
        \arrow["{b\wedge-}", from=1-2, to=2-2]
        \arrow["\widehat{g}"', from=2-1, to=2-2]
    \end{tikzcd}, entonces del lema \ref{lema del paso a la seccion inferior}, tenemos que
    $\widehat{g}(x)=b\wedge f(x)$ para todo $x\leq a$ y $\widehat{g}_*(y)=f_*(b\succ y)\wedge a$ para todo $y\leq b$. Por el mismo
    isomorfismo mencionado previamente, definimos $g(w):=b\succ\widehat{g}(a\wedge w)$ para todo
    $w\in A_{v_a}$. Tomemos $z\in A$, entonces
    $$ g(a\succ z)=b\succ\widehat{g}(a\wedge (a\succ z))=b\succ\widehat{g}(a\wedge z)=b\succ (b\wedge f(z))=b\succ f(z)$$
    lo que muestra que conmuta el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_a}} & {B_{v_b}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_a}"', from=1-1, to=2-1]
        \arrow["{v_b}", from=1-2, to=2-2]
        \arrow["g"', from=2-1, to=2-2]
    \end{tikzcd}
\end{proof}

Notemos que la proposición anterior básicamente dice que si se tiene el siguiente diagrama \todo{Pendiente arreglar diagrama}
\[\begin{tikzcd}
	A && B \\
	{\downarrow a} && {\downarrow b} \\
	\cong && \cong \\
	{A_{v_a}} && {A_{v_b}}
	\arrow["f", from=1-1, to=1-3]
	\arrow["{a\wedge-}"', from=1-1, to=2-1]
	\arrow["{v_a}"', shift right=3, curve={height=30pt}, from=1-1, to=4-1]
	\arrow["{b\wedge-}", from=1-3, to=2-3]
	\arrow["{v_b}", shift left=3, curve={height=-30pt}, from=1-3, to=4-3]
	\arrow["{\widehat{g}}"', from=2-1, to=2-3]
	\arrow["{v_a}"', curve={height=12pt}, from=2-1, to=4-1]
	\arrow["{v_b}", curve={height=-12pt}, from=2-3, to=4-3]
	\arrow["{a\wedge-}"', curve={height=12pt}, from=4-1, to=2-1]
	\arrow["g"', from=4-1, to=4-3]
	\arrow["{b\wedge-}", curve={height=-12pt}, from=4-3, to=2-3]
\end{tikzcd}\] es equivalente que este diagrama conmute a que conmute el cuadrado \begin{tikzcd}
    A & B \\
    {\downarrow a} & {\downarrow b}
    \arrow["f", from=1-1, to=1-2]
    \arrow["{a\wedge-}"', from=1-1, to=2-1]
    \arrow["{b\wedge-}", from=1-2, to=2-2]
    \arrow["\widehat{g}"', from=2-1, to=2-2]
\end{tikzcd}, lo que a su vez es equivalente a que conmute el cuadrado \begin{tikzcd}
    A & B \\
    {A_{v_a}} & {B_{v_b}}
    \arrow["f", from=1-1, to=1-2]
    \arrow["{v_a}"', from=1-1, to=2-1]
    \arrow["{v_b}", from=1-2, to=2-2]
    \arrow["g"', from=2-1, to=2-2]
\end{tikzcd}

\begin{definition}
    Sea $f:A\to B$ un morfismo de marcos. Decimos que $f$ es un morfismo étale si existen familias $\{a_i\}_{i\in I}\subseteq A$
    y $\{b_i\}_{i\in I}\subseteq B$ tales que:
    \begin{itemize}
        \item[1.]  $\bigvee_{i\in I}b_i=1$.
        \item[2.]  Para cada $i\in I$ $f_i:A_{v_{a_i}}\to B_{v_{b_i}}$ definido como $f_i(x):=b_i\succ f(x)$ es un isomorfismo.
    \end{itemize}
\end{definition}

\begin{lema}\label{etale implica abierto}
    Todo morfismo de marcos étale es un morfismo abierto.
\end{lema}

\begin{proof}
    Sea $f:A\to B$ un morfismo de marcos étale, entonces existen familias $\{a_i\}_{i\in I}\subseteq A$
    y $\{b_i\}_{i\in I}\subseteq B$ tales que $\bigvee_{i\in I}b_i=1$ y el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_{a_i}}} & {B_{v_{b_i}}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_{a_i}}"', from=1-1, to=2-1]
        \arrow["{v_{b_i}}", from=1-2, to=2-2]
        \arrow["g"', from=2-1, to=2-2]
    \end{tikzcd} conmuta y $f_i$ es isomorfismo para toda $i\in I$.

    Definamos $f_l:B\to A$ como $f_l(y):=\bigvee_{i\in I}(a_i\wedge f_{i*}(b_i\succ y))$ para cada $y\in B$.
    Veamos que es el adjunto izquierdo. Sean $x\in A$ y $y\in B$, entonces
    \begin{eqnarray*}
        f_l(y)\leq x &\iff&  \bigvee_{i\in I}(a_i\wedge f_{i*}(b_i\succ y)) \leq x \\
                    &\iff& a_i\wedge f_{i*}(b_i\succ y) \leq x \text{ para todo } i\in I \\
                    &\iff& f_{i*}(b_i\succ y)\leq a_i\succ x \text{ para todo } i\in I \\ 
                    &\iff& b_i\succ y\leq f_i(a_i\succ x)=b_i \succ f(x) \text{ para todo } i\in I \\ 
                    &\iff& b_i\wedge y =b_i\wedge(b_i\succ y)\leq f(x) \text{ para todo } i\in I \\
                    &\iff& \bigvee_{i\in I}(b_i\wedge y)=\bigvee_{i\in I}b_i\wedge y=y\leq f(x)
    \end{eqnarray*}
    Lo que prueba que $f_l\dashv f$ (Recuérdese que se usa el hecho de que cada $f_i$ son isomorfismos, y por lo tanto
    su inverso es tanto su adjunto derecho como izquierdo, lo que significa que $f_{i*}=f_i^{-1}$).

    Para la identidad de Frobenius primero observemos que para cada $i\in I$ se tiene que
    \begin{eqnarray*}
        a_i\wedge f{i*}(b_i\succ y)\wedge x &=& a_i\wedge f_{i*}(b_i\succ y)\wedge (a_i\succ x)=a_i\wedge f_{i*}(b_i\succ y)\wedge f_{i*}f_i(a_i\succ x) \\ 
                                            &=& a_i\wedge f_{i*}((b_i\succ y)\wedge f_i(a_i\succ x))=a_i\wedge f_{i*}((b_i\succ y)\wedge (b_i\succ f(x))) \\ 
                                            &=& a_i\wedge f_{i*}(b_i\succ (y\wedge f(x)))
    \end{eqnarray*}
    Y ahora veamos que 
    \begin{eqnarray*}
        f_l(y)\wedge x &=& \bigvee_{i\in I}(a_i\wedge f_{i*}(b_i\succ y))\wedge x=\bigvee_{i\in I}(a_i\wedge f_{i*}(b_i\succ y)\wedge x) \\ 
                        &=&  \bigvee_{i\in I}(a_i\wedge f_{i*}(b_i\succ (y\wedge f(x))))=f_l(y\wedge f(x)).
    \end{eqnarray*}
\end{proof}

\begin{coro}\label{corolario etale y adjunto izquierdo}
    Sea $f:A\to B$ un morfismo de marcos. $f$ es étale si y solo si:
    \begin{itemize}
        \item [1.] $f$ es abierto (e.i. existe $f_l\dashv f$ que satisface Frobenius)
        \item [2.] Existe una familia $\{b_i\}\subseteq B$ tal que $\bigvee_{i\in I}b_i=1$ y $f_{il}:B_{v_{b_i}}\to A_{v_{f_l(b_i)}}$
        definido como $f_{il}(z):=f_l(b_i)\succ f_l(b_i\wedge z)$ para todo $z\in B_{v_{b_i}}$, es un isomorfismo.  
    \end{itemize}
\end{coro}

\begin{proof}
    Si $f$ es étale, por el lema \ref{etale implica abierto} $f$ es abierto, y existen familias $\{a_i\}_{i\in I}\subseteq A$
    y $\{b_i\}_{i\in I}\subseteq B$ tales que $\bigvee_{i\in I}b_i=1$ y se tiene para cada $i\in I$
    un isomorfismo $f_i:A_{v_{a_i}}\to B_{v_{b_i}}$ que hace conmutar el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_{a_i}}} & {B_{v_{b_i}}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_{a_i}}"', from=1-1, to=2-1]
        \arrow["{v_{b_i}}", from=1-2, to=2-2]
        \arrow["f_i"', from=2-1, to=2-2]
    \end{tikzcd}.

    Como $f_i$ es un isomorfismo, definimos $f_{il}:=f_i^{-1}$. Y entonces tenemos que conmuta el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_{a_i}}} & {B_{v_{b_i}}}
        \arrow["{f_l}"', from=1-2, to=1-1]
        \arrow["{a_i\wedge-}", from=2-1, to=1-1]
        \arrow["{b_i\wedge-}"', from=2-2, to=1-2]
        \arrow["{f_{il}}", from=2-2, to=2-1]
    \end{tikzcd} de los adjuntos izquierdos. Por lo que tenemos para $z\in B_{v_{b_i}}$ que 
    $$f_l(b_i\wedge z)=a_i\wedge f_{il}(z) \implies a_i\succ f_l(b_i\wedge z)=a_i\succ (a_i\wedge f_{il}(z))= f_{il}(z)$$
    considerando las propiedades de la implicación y que $f_{il}(z)$ es un punto fijo del núcleo $v_{a_i}$. Solo resta ver que
    $$f_l(b_i)=f_l(b_i\wedge 1)=f_{il}(1)\wedge a_i =a_i$$
    puesto que el cuadrado de adjuntos izquierdos conmuta y el isomorfismo preserva el elemento tope.

    Por otro lado, supongamos que $f$ satisface 1. y 2., entonces definimos $a_i:=f_l(b_i)$ y veamos que para $z\in B_{v_{b_i}}$ tenemos que
    $$a_i\wedge f_{il}(z)= a_i\wedge (a_i\succ f_l(b_i\wedge z))=a_i\wedge f_l(b_i\wedge z)=f_l(f(a_i)\wedge b_i \wedge z)=f_l(b_i\wedge z)$$
    considerando que $f_l$ satisface la identidad de Frobenius y que $b_i\leq f(a_i)=f(f_l(b_i))$. Esto significa que el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_{a_i}}} & {B_{v_{b_i}}}
        \arrow["{f_l}"', from=1-2, to=1-1]
        \arrow["{a_i\wedge-}", from=2-1, to=1-1]
        \arrow["{b_i\wedge-}"', from=2-2, to=1-2]
        \arrow["{f_{il}}", from=2-2, to=2-1]
    \end{tikzcd} conmuta, y por lo tanto conmuta el cuadrado de los adjuntos derechos \begin{tikzcd}
        A & B \\
        {A_{v_{a_i}}} & {B_{v_{b_i}}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_{a_i}}"', from=1-1, to=2-1]
        \arrow["{v_{b_i}}", from=1-2, to=2-2]
        \arrow["f_i"', from=2-1, to=2-2]
    \end{tikzcd} (considerando que $f_{il}$ es un isomorfismo, su inversa es su adjunto derecho). Lo que prueba que $f$ es étale.
\end{proof}

\begin{obs} Para un marco arbitrario $A$ y un elemento $a\in A$:
    \begin{itemize}
        \item El morfismo de paso al cociente $A\xrightarrow{v_a^*}A_{v_a}$ es étale. Usando el lema anterior, ya sabemos que es abierto (lema \ref{nucleo abierto iff paso al cociente abierto}).
        Luego tomamos la familia unipuntual ${1}\subseteq A_{v_a}$ que obviamente cubre ($\bigvee \{1\} =1$), y es justo la identidad en $A_{v_a}$ el que es el isomorfismo entre los cocientes.
        
        \item El morfismo $A\xrightarrow{a\wedge-}\downarrow a$ es étale. El morfismo es abierto (su adjunto izquierdo es la inclusión, y satisface Frobenius). Luego la familia $\{a\}\subseteq \downarrow a$ cubre, y de nuevo la identidad del cociente $A_{v_a}$ es el isomorfismo
        que hace étale al morfismo deseado.
    \end{itemize}
\end{obs}

\begin{prop}
    Sea :$f_l:B\to A$ un morfismo de copos entre dos marcos. Lo siguiente es equivalente:
    \begin{itemize}
        \item Existe un morfismo de marcos $f:A\to B$ tal que es étale y $f_l\dashv f$.
        \item $f_l$ preserva supremos arbitrarios y existe una familia $\{b_i\}\subseteq B$ tal que $\bigvee_{i\in I}b_i=1$ y $f_{il}:B_{v_{b_i}}\to A_{v_{f_l(b_i)}}$
        definido como $f_{il}(z):=f_l(b_i)\succ f_l(b_i\wedge z)$ para todo $z\in B_{v_{b_i}}$, es un isomorfismo.
    \end{itemize} 
\end{prop}

\begin{proof}
    Supongamos existe $f$ un morfismo de marcos étale que es adjunto derecho de $f_l$. Como $f_l$ tiene adjunto derecho, entonces preserva supremos arbitrarios y del corolario \ref{corolario etale y adjunto izquierdo} 
    existen la familia $\{b_i\}_{i\in I}\subseteq B$ tal que cubre y $f_{il}:B_{v_{b_i}}\to A_{v_{a_i}}$ es un isomorfismo.

    Para el converso, como $f_l$ preserva supremos arbitrarios, entonces tiene adjunto derecho $f:A\to B$ (que solo sabemos es un morfismo de COPOS). Para ver que $f$ es morfismo de marcos, es suficiente con probar que respeta supremos arbitrarios  
    (por tener adjunto izquierdo, ya abre ínfimos y preserva tope); para eso veremos que tiene adjunto derecho. Definamos $f_*:B\to A$ como $f_*(y):=\bigwedge_{i\in I}f_{il}(b_i\succ y)$ para cada $y\in B$. Ahora sean $x\in A$, $y\in B$ entonces, por un lado
    \begin{eqnarray*}
        x\leq f_*(y) &\iff&  x\leq \bigwedge_{i\in I}f_{il}(b_i\succ y) \\
                    &\iff& x\leq f_{il}(b_i\succ y) \text{ para todo } i\in I \\
                    &\implies& a_i\succ x\leq a_i\succ f_{il}(b_i\succ y)= f_{il}(b_i\succ y) \text{ para todo } i\in I \\ 
                    &\implies& f_i(a_i\succ x)= b_i\succ f(x)\leq b_i\succ y \text{ para todo } i\in I \\ 
                    &\implies& b_i\wedge f(x)\leq y \text{ para todo } i\in I \\
                    &\iff& \bigvee_{i\in I}(b_i\wedge f(x))=\bigvee_{i\in I}b_i\wedge f(x)=f(x)\leq y
    \end{eqnarray*}
    y por otro lado
    \begin{eqnarray*}
        f(x)\leq y &\iff& \bigvee_{i\in I}b_i\wedge f(x) =
    \end{eqnarray*}
\end{proof}
\begin{prop}
    La composición de morfismos étales de marcos es un morfismo étale.
\end{prop}

\begin{proof}
    Sean $A\xrightarrow{f}B\xrightarrow{g}C\in\Frm$ dos morfismos étales. Entonces existen las familias $\{b_i\}_{i\in I}\subseteq B$
    $\{c_j\}_{j\in J}\subseteq C$ tales que $\bigvee_{i\in I}b_i=1$, $\bigvee_{j\in J}c_j=1$ y el diagrama
    
    \[\begin{tikzcd}
        & A && B && C \\
        {A_{v_{f_l(b_i)}}} & \cong & {B_{v_{b_i}}} && {B_{v_{g_l(c_j)}}} & \cong & {C_{v_{c_j}}}
        \arrow["f", from=1-2, to=1-4]
        \arrow["{{{v_{f_l(b_i)}}}}"', from=1-2, to=2-1]
        \arrow["g", from=1-4, to=1-6]
        \arrow["{{{v_{b_i}}}}"', from=1-4, to=2-3]
        \arrow["{{{v_{g_l(c_j)}}}}", from=1-4, to=2-5]
        \arrow["{{{v_{c_j}}}}", from=1-6, to=2-7]
        \arrow["{{{f_i}}}", curve={height=12pt}, from=2-1, to=2-3]
        \arrow["{f_{il}}", curve={height=-12pt}, from=2-3, to=2-1]
        \arrow["{{{g_j}}}", curve={height=12pt}, from=2-5, to=2-7]
        \arrow["{g_{il}}", curve={height=-12pt}, from=2-7, to=2-5]
    \end{tikzcd}\]
    conmuta (los morfismos $f_{il}$ y $g_{jl}$ se dan en el corolario \ref{corolario etale y adjunto izquierdo}). 

    Sea la familia $\{\gamma_{ij}\}_{(i,j)\in I\times J}\subseteq C$ donde $\gamma_{ij}:= g(b_i)\wedge c_j$. Veamos que  
\end{proof}

\begin{lema}
    Sea $f:A\to B\in\Frm$. Entonces $f$ es un morfismo étale si y solo si existe $X\subseteq B$ tal que:
    \begin{itemize}
        \item $\bigvee X = 1$.
        \item Para cada $x\in X$ el morfismo $v_x^*\circ f$ es suprayectivo con núcleo abierto.
    \end{itemize}
\end{lema}

\begin{proof}
    Si $f$ es étale entonces existen familias $\{a_i\}_{i\in I}\subseteq A$
    y $\{b_i\}_{i\in I}\subseteq B$ tales que $\bigvee_{i\in I}b_i=1$ y se tiene para cada $i\in I$
    un isomorfismo $f_i:A_{v_{a_i}}\to B_{v_{b_i}}$ que hace conmutar el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_{a_i}}} & {B_{v_{b_i}}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_{a_i}}"', from=1-1, to=2-1]
        \arrow["{v_{b_i}}", from=1-2, to=2-2]
        \arrow["f_i"', from=2-1, to=2-2]
    \end{tikzcd}. 
    Esto significa que $v_{a_i}=f_*\circ v^*_{b_i}\circ f$ (Recordemos que el adjunto derecho de un paso al cociente es la inclusión), lo que significa
    que $v_x^*\circ f$ tiene núcleo abierto, además debe ser suprayectiva, pues tenemos que es igual a la composición de dos funciones suprayectivas ($v_{a_i}$ y $f_i$).

    Por otro lado, supongamos que existe $X\subseteq B$ tal que $\bigvee X = 1$ y para cada $x\in X$ el morfismo $v_x^*\circ f$ es suprayectivo con núcleo abierto. 
    Entonces, para cada $x\in X$ existe $a_x\in A$ tal que $v_{a_x}=f_*\circ v^*_{b_i}\circ f$, entonces por el lema \ref{Lema de cocientes isomorfos}, tenemos que los cocientes son isomorfos,
    lo que significa que el cuadrado \begin{tikzcd}
        A & B \\
        {A_{v_{a_x}}} & {B_{v_x}}
        \arrow["f", from=1-1, to=1-2]
        \arrow["{v_{a_x}}"', from=1-1, to=2-1]
        \arrow["{v_{x}}", from=1-2, to=2-2]
        \arrow["f_x"', from=2-1, to=2-2]
    \end{tikzcd}. 
    Donde $f_x= (v_x^*\circ f)^\sharp$ (Detalles de $(-)^\sharp$ en \cite{Zaldivar2023}).
\end{proof}.

\begin{lema}
    Sea el triángulo conmutativo \begin{tikzcd}
	& A \\
	B && C
	\arrow["f"', from=1-2, to=2-1]
	\arrow["g", from=1-2, to=2-3]
	\arrow["h"', from=2-1, to=2-3]
\end{tikzcd} $\in\Frm$. 

Si $f$ y $g$ son étales, entonces $h$ es étale.
\end{lema}

\begin{proof}
    Por ser $f$ y $g$ étales, existen $X\subseteq B$ y $Y\in C$ tales que $\bigvee X=1$, $\bigvee Y=1$,
    y para cada $x\in X$ y $y\in Y$, el siguiente diagrama
    \[\begin{tikzcd}
        {A_{k_x}} && A && {A_{k_y}} \\
        {B_{v_x}} & B && C & {C_{v_y}}
        \arrow["{f_x}"', from=1-1, to=2-1]
        \arrow["{k_x^*}"', from=1-3, to=1-1]
        \arrow["{k_y^*}", from=1-3, to=1-5]
        \arrow["f"', from=1-3, to=2-2]
        \arrow["g", from=1-3, to=2-4]
        \arrow["{g_y}", from=1-5, to=2-5]
        \arrow["{v_x^*}", from=2-2, to=2-1]
        \arrow["h"', from=2-2, to=2-4]
        \arrow["{v_y^*}"', from=2-4, to=2-5]
    \end{tikzcd}\] conmuta. Donde $f_x$ y $g_y$ son isomorfismos, y los núcleos $k_x,k_y\in NA$ son abiertos y corresponden a los núcleos de los
    morfismos $v_x^*\circ f$ y $v_y^*\circ g$ respectivamente.

    Definamos $Z:=\{y\wedge h(x) | x\in X, y\in Y\}$, veamos que cubre:
    \begin{eqnarray*}
        \bigvee Z &=& \bigvee_{x\in X , y\in Y}(y\wedge h(x))=\bigvee_{x\in X}\bigvee_{y\in Y}(y\wedge h(x)) \\
                    &=& \bigvee_{x\in X}(\bigvee_{y\in Y}y\wedge h(x))=\bigvee_{x\in X}h(x) \\ 
                    &=& h(\bigvee_{x\in X} x)=1
    \end{eqnarray*} 
    Recordando que $X$ y $Y$ cubren, la distributividad de un marco, y que $h$ es morfismo de marcos.

    Notemos que para $z=y\wedge h(x)$ tenemos que $z\leq y$, por lo tanto $C_{v_z}\subseteq C_{v_y}$ y $v_z=v_y\circ v_z$
\end{proof}

\section{Algunas equivalencias importantes}

\subsection{$\Et/A\cong\Gav(A)$}

\subsection{$\Con(A)\cong \Gav(A)$}

\subsection{Topos localico}
